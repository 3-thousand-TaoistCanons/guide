<!DOCTYPE HTML>
<html lang="en-US" manifest="../manifest.appcache">
    
    <head>
        
        <meta charset="UTF-8">
        <title>Template Syntax | Guide for regularjs</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 0.5.5">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <meta name="author" content="regularjs">
    
    
    <link rel="next" href="../syntax/syntax.html" />
    
    
    <link rel="prev" href="../getting-start/review.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book" data-github="regularjs/guide" data-level="3" data-basepath=".." data-revision="1408541955662">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="https://github.com/regularjs/guide" target="_blank" class="btn pull-left home-bookmark" aria-label="GitHub home"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/regularjs/guide/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/regularjs/guide/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../" >Guide for regularjs</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        <li>
            <a href="https://github.com/regularjs" target="blank" class="author-link">About the author</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/regularjs/guide/issues" target="blank"class="issues-link">Questions and Issues</a>
        </li>
        

        
        
        <li>
            <a href="https://github.com/regularjs/guide/edit/master/syntax/README.md" target="blank" class="contribute-link">Edit and Contribute</a>
        </li>
        

        
        <li class="divider"></li>
        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="introduct/index.html">
            
                
                    <a href="../introduct/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         API reference
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="1.1" data-path="introduct/target.html">
            
                
                    <a href="../introduct/target.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         Target Browser
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="getting-start/README.html">
            
                
                    <a href="../getting-start/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Hello! Regular
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="getting-start/install.html">
            
                
                    <a href="../getting-start/install.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         Installation
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="getting-start/quick-example.html">
            
                
                    <a href="../getting-start/quick-example.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         Quick Example
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.3" data-path="getting-start/review.html">
            
                
                    <a href="../getting-start/review.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                         Summary
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="syntax/README.html">
            
                
                    <a href="../syntax/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Template Syntax
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="syntax/syntax.html">
            
                
                    <a href="../syntax/syntax.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         Syntax Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.2" data-path="syntax/interpolation.html">
            
                
                    <a href="../syntax/interpolation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         interpolation
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.3" data-path="syntax/if.html">
            
                
                    <a href="../syntax/if.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                         Logic Control
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.4" data-path="syntax/list.html">
            
                
                    <a href="../syntax/list.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                         Loop Control
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.5" data-path="syntax/include.html">
            
                
                    <a href="../syntax/include.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                         Dynamic Include
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.6" data-path="syntax/expression.html">
            
                
                    <a href="../syntax/expression.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                         Expression
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="core/README.html">
            
                
                    <a href="../core/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Core Concepts
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="4.1" data-path="core/class.html">
            
                
                    <a href="../core/class.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                         Class-based Component
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.2" data-path="core/binding.html">
            
                
                    <a href="../core/binding.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                         Watcher System
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.3" data-path="core/computed.html">
            
                
                    <a href="../core/computed.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                         Computed Property
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.4" data-path="core/directive.html">
            
                
                    <a href="../core/directive.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                         Directive
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.5" data-path="core/filter.html">
            
                
                    <a href="../core/filter.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                         Filter
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.6" data-path="core/event.html">
            
                
                    <a href="../core/event.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                         UI Event
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.7" data-path="core/animation.html">
            
                
                    <a href="../core/animation.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                         Powerful Animation
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.8" data-path="core/use.html">
            
                
                    <a href="../core/use.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.8.</b>
                        
                         Encapsulation and Plugin
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.9" data-path="core/message.html">
            
                
                    <a href="../core/message.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.</b>
                        
                         Event Emitter
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="5" >
            
            <span><b>5.</b> Advanced Concepts</span>
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="5.1" data-path="advanced/component.html">
            
                
                    <a href="../advanced/component.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                         Nested Component
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="qa/README.html">
            
                
                    <a href="../qa/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         Q &amp; A
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 28%;min-width: 24%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../introduct/index.html" title="API reference" class="chapter done new-chapter" data-progress="1" style="left: 4%;"></a>
    
        <a href="../introduct/target.html" title="Target Browser" class="chapter done " data-progress="1.1" style="left: 8%;"></a>
    
        <a href="../getting-start/README.html" title="Hello! Regular" class="chapter done new-chapter" data-progress="2" style="left: 12%;"></a>
    
        <a href="../getting-start/install.html" title="Installation" class="chapter done " data-progress="2.1" style="left: 16%;"></a>
    
        <a href="../getting-start/quick-example.html" title="Quick Example" class="chapter done " data-progress="2.2" style="left: 20%;"></a>
    
        <a href="../getting-start/review.html" title="Summary" class="chapter done " data-progress="2.3" style="left: 24%;"></a>
    
        <a href="../syntax/README.html" title="Template Syntax" class="chapter done new-chapter" data-progress="3" style="left: 28%;"></a>
    
        <a href="../syntax/syntax.html" title="Syntax Introduction" class="chapter  " data-progress="3.1" style="left: 32%;"></a>
    
        <a href="../syntax/interpolation.html" title="interpolation" class="chapter  " data-progress="3.2" style="left: 36%;"></a>
    
        <a href="../syntax/if.html" title="Logic Control" class="chapter  " data-progress="3.3" style="left: 40%;"></a>
    
        <a href="../syntax/list.html" title="Loop Control" class="chapter  " data-progress="3.4" style="left: 44%;"></a>
    
        <a href="../syntax/include.html" title="Dynamic Include" class="chapter  " data-progress="3.5" style="left: 48%;"></a>
    
        <a href="../syntax/expression.html" title="Expression" class="chapter  " data-progress="3.6" style="left: 52%;"></a>
    
        <a href="../core/README.html" title="Core Concepts" class="chapter  new-chapter" data-progress="4" style="left: 56%;"></a>
    
        <a href="../core/class.html" title="Class-based Component" class="chapter  " data-progress="4.1" style="left: 60%;"></a>
    
        <a href="../core/binding.html" title="Watcher System" class="chapter  " data-progress="4.2" style="left: 64%;"></a>
    
        <a href="../core/computed.html" title="Computed Property" class="chapter  " data-progress="4.3" style="left: 68%;"></a>
    
        <a href="../core/directive.html" title="Directive" class="chapter  " data-progress="4.4" style="left: 72%;"></a>
    
        <a href="../core/filter.html" title="Filter" class="chapter  " data-progress="4.5" style="left: 76%;"></a>
    
        <a href="../core/event.html" title="UI Event" class="chapter  " data-progress="4.6" style="left: 80%;"></a>
    
        <a href="../core/animation.html" title="Powerful Animation" class="chapter  " data-progress="4.7" style="left: 84%;"></a>
    
        <a href="../core/use.html" title="Encapsulation and Plugin" class="chapter  " data-progress="4.8" style="left: 88%;"></a>
    
        <a href="../core/message.html" title="Event Emitter" class="chapter  " data-progress="4.9" style="left: 92%;"></a>
    
        <a href="../advanced/component.html" title="Nested Component" class="chapter  " data-progress="5.1" style="left: 96%;"></a>
    
        <a href="../qa/README.html" title="Q &amp; A" class="chapter  new-chapter" data-progress="6" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_25">
                    
                        <h1 id="template-syntax">Template Syntax</h1>
<p>Unlike dom-based template such as <a href="https://angularjs.org/" target="_blank">angular</a>, <a href="vuejs.org">vuejs</a>, <a href="http://knockoutjs.com/" target="_blank">knockoutjs</a>, regularjs is string-based (e.g. <a href="http://www.ractivejs.org/" target="_blank">ractive</a>), this feature provides some advantages:</p>
<h3 id="1-more-powerful-control-over-logic">1. more powerful control over logic</h3>
<p>The dom-based template always rely on
directive(<code>ng-if</code>,<code>ng-repeat</code>), so the logic is element-based, they can&#39;t describe the structure like this:</p>
<pre><code class="lang-html">{{#if isLogin}}
<span class="hljs-tag">&lt;<span class="hljs-title">a</span> {{#<span class="hljs-attribute">if</span> <span class="hljs-attribute">isNotFavor</span>}} <span class="hljs-attribute">on-click</span>=<span class="hljs-value">{{this.favor()}}</span> {{/<span class="hljs-attribute">if</span>}}&gt;</span>Digg<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">on-click</span>=<span class="hljs-value">{{ignored</span> = <span class="hljs-attribute">true</span>}}&gt;</span>Ignore<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
{{/if}}
</code></pre>
<p>in fact, you can use use the <code>logic</code> to controll the <code>directive</code> and <code>event</code>.</p>
<h3 id="2-only-render-the-parts-that-really-need-to">2. only render the parts that really need to</h3>
<p>  The dom-based template like angular don&#39;t have its own parsing phase, they just put the string into the document, and walker the generated dom-node to call the <strong>LINK</strong> action, so the node always have some placeholder. for example:</p>
<pre><code class="lang-html">  <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">"save()"</span> <span class="hljs-attribute">ng-disabled</span>=<span class="hljs-value">"myForm.$invalid"</span>
          <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn btn-primary"</span>&gt;</span>Save<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">"destroy()"</span>
          <span class="hljs-attribute">ng-show</span>=<span class="hljs-value">"project.$remove"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn btn-danger"</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
</code></pre>
<p>  But string-based template have its own pasing phase, they can extract the information from parsed AST, and then put the rendered content into the document. If the dom above is rendered by regular, the result will be:</p>
<pre><code class="lang-html">  <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn btn-primary"</span>&gt;</span>Save<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn btn-danger"</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
</code></pre>
<p>  , beacuse all processes are already done in intialize phase with the parsed AST.</p>
<h3 id="3-making-the-pre-parsing-possible">3. making the pre-parsing possible</h3>
<p>you can pre-parse the template-string to AST before creating your Component.</p>
<p><strong>for example</strong></p>
<pre><code class="lang-html">{{#list items as item}}
  <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"m-item"</span> <span class="hljs-attribute">on-click</span>=<span class="hljs-value">{{this.del(item)}}</span>&gt;</span> {{item.name}} <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
{{/list}}
</code></pre>
<p>will be parsed to</p>
<pre><code class="lang-javascript">[
  {
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"list"</span>,
    <span class="hljs-string">"sequence"</span>: {
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"expression"</span>,
      <span class="hljs-string">"body"</span>: <span class="hljs-string">"_d_['items']"</span>,
      <span class="hljs-string">"constant"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-string">"setbody"</span>: <span class="hljs-string">"_d_['items']=_p_"</span>
    },
    <span class="hljs-string">"variable"</span>: <span class="hljs-string">"item"</span>,
    <span class="hljs-string">"body"</span>: [
      {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
        <span class="hljs-string">"text"</span>: <span class="hljs-string">"  "</span>
      },
      {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"element"</span>,
        <span class="hljs-string">"tag"</span>: <span class="hljs-string">"div"</span>,
        <span class="hljs-string">"attrs"</span>: [
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"attribute"</span>,
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"class"</span>,
            <span class="hljs-string">"value"</span>: <span class="hljs-string">"m-item"</span>
          },
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"attribute"</span>,
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"on-click"</span>,
            <span class="hljs-string">"value"</span>: {
              <span class="hljs-string">"type"</span>: <span class="hljs-string">"expression"</span>,
              <span class="hljs-string">"body"</span>: <span class="hljs-string">"(typeof (_c_['del']) !=='function'?_c_['del'](_d_['item']):_c_['del'].call(_c_,_d_['item']))"</span>,
              <span class="hljs-string">"constant"</span>: <span class="hljs-literal">false</span>,
              <span class="hljs-string">"setbody"</span>: <span class="hljs-literal">false</span>
            }
          }
        ],
        <span class="hljs-string">"children"</span>: [
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"text"</span>: <span class="hljs-string">" "</span>
          },
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"expression"</span>,
            <span class="hljs-string">"body"</span>: <span class="hljs-string">"_d_['item']['name']"</span>,
            <span class="hljs-string">"constant"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-string">"setbody"</span>: <span class="hljs-string">"_d_['item']['name']=_p_"</span>
          },
          {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"text"</span>: <span class="hljs-string">" "</span>
          }
        ]
      }
    ]
  }
]
</code></pre>
<p>It is just <strong>valid json format</strong>, so the parsed ast can be sent from server to client.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../getting-start/review.html" class="navigation navigation-prev " aria-label="Previous page: Summary"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../syntax/syntax.html" class="navigation navigation-next " aria-label="Next page: Syntax Introduction"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
<script src="../gitbook/app.js"></script>

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
