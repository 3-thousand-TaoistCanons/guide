## 语法元素说明

从语法层面讲, regular模板的语法元素包含两种类别: `xml`与`jst`,它们在词法解析规则也是完全不同. 

### 1. simple xml

xml的就如我们常用那样，无需赘言.

__Example__

```javascript
<div class="m-tag">
 Hello, world 
</div>
```

由于regular的内建模板是__活动的__, 所以也需要解析xml,不能和其它类似mustache的静态模板引擎一样作为普通文本处理.


### 2. jst

jst元素是被开标签(默认为`{{`)和闭标签(默认为`}}`)包裹的部分, 包括插值`{{}}`以及内建规则`{{#}}`

jst提供了模板里的逻辑实现的支持，与一般的基于字符串的模板功能类似, 语法设计上基本与[freemarker](http://freemarker.org/)是相近的(修改了开关符号).


__Example__

```xml
{{#if user.type === 1}}
  <p>{{user.name}}</p>
{{/if}}
```

jst环境与xml的最大不同就是允许表达式的存在.


## 关于内建规则

在模板中, `{{#}}`称之为内建规则,目前的内建规则有`{{#if}}` `{{#else}}` `{{#elseif}}` `{{#list}}` `{{#include}}`. 这些后续章节中会陆续介绍


与xml一样 一个jst rule的标签的开标签与闭合标签必须匹配,比如`{{#list}}`必须匹配`{{/list}}`, 而有有些标签允许自闭合如`{{#include}}`



### 为何不沿用mustache这样的简化语法?

* 引入表达式支持
  
  动态模板与mustache此类静态的模板的不同就是，会有很多临时状态和中间状态，如果这些状态都需要重新定义成一个变量才能使用,会增加很重的使用负担, 但是如果引入了表达式的支持, 这些中间状态就可以使用表达式来表示.



* 后续内建规则的扩展

  假如我们需要添加`{{#switch}}` 就可以很愉快加入此功能，而无需去苦思冥想有哪个类似`#`的符号没有被使用(比如mustache).



### 注意点

1. 内建规则和xml标签不能被相互打断，如下例是不被允许会抛出异常. 这也是与常规的静态模板的最大区别

  ```xml
  <div>
  {{#if true}}
    True
  </div>
  {{#else}}
    False
  </div>
  {{/if}}

  ```


--------------------------

下面几个章节我们会详细介绍jst语法元素


